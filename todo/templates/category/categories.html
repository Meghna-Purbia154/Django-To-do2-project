{% extends "base.html" %}
{% block content %}

<style>
    body {
        background: #faf7ff;  /* soft lavender tint */
    }

    /* Page Title */
    .page-title {
        font-size: 26px;
        font-weight: 700;
        color: #6a5aa3;
        margin-bottom: 18px;
        padding-bottom: 6px;
        border-bottom: 2px solid #e3d8ff;
        display: inline-block;
    }

    /* Category Container */
    .cat-box {
        padding: 18px;
        border-radius: 18px;
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(6px);
        border: 1px solid #e9e2ff;
        box-shadow: 0 6px 15px rgba(0,0,0,0.06);
        margin-bottom: 15px;
        transition: 0.25s ease;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .cat-box:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 22px rgba(0,0,0,0.08);
        background: rgba(255, 255, 255, 0.88);
    }

    /* Category Badge */
    .cat-pill {
        padding: 6px 14px;
        border-radius: 18px;
        color: #fff;
        font-size: 14px;
        font-weight: 600;
        box-shadow: 0 3px 6px rgba(0,0,0,0.06);
        letter-spacing: 0.3px;
        display: inline-block;
    }

    /* Category name link */
    .cat-text {
        color: #4f3d84;
        font-weight: 600;
        font-size: 15px;
        text-decoration: none;
        margin-left: 8px;
        transition: 0.2s;
    }

    .cat-text:hover {
        text-decoration: underline;
        color: #3d2f6f;
    }

    /* Cute Icon Bubble */
    .icon-bubble {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #f3ecff;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 18px;
        box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    }

</style>

<h3 class="page-title">Categories ðŸ’—</h3>

<!-- Add Category Form -->
<div class="cat-box" style="margin-bottom: 30px; background: rgba(255, 255, 255, 0.9);">
    <div style="width: 100%;">
        <h4 style="color: #6a5aa3; margin-bottom: 15px; font-size: 18px;">Add New Category ðŸŒ¸</h4>
        <form method="post">
            {% csrf_token %}
            <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                <div>
                    <label for="{{ form.name.id_for_label }}" style="font-weight: 600; color: #4f3d84;">Name:</label>
                    {{ form.name }}
                </div>
                <div>
                    <label for="{{ form.color.id_for_label }}" style="font-weight: 600; color: #4f3d84;">Color:</label>
                    {{ form.color }}
                </div>
                <button type="submit" style="padding: 8px 16px; background: #6a5aa3; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.2s;">Add Category</button>
            </div>
        </form>
    </div>
</div>

{% for c in categories %}
<div class="cat-box">

    <!-- Cute Icon -->
    <div class="icon-bubble">
        ðŸŒ¸
    </div>

    <!-- Category Name -->
    <a class="cat-text" href="{% url 'category-tasks' c.pk %}">
        {{ c.name }}
    </a>

    <!-- Category Badge / Color Tag -->
    <span class="cat-pill" >
        {{ c.name|slice:":1" }} 
    </span>

</div>
{% empty %}
<p>No categories added!</p>
{% endfor %}

{% endblock %}
